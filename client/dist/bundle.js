(()=>{var t={321:t=>{function e(t){return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}e.keys=()=>[],e.resolve=e,e.id=321,t.exports=e}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))},e=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=null,o=null,a=!1;function i(){return t(this,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return"undefined"==typeof process||null==process.versions||null==process.versions.node?[3,3]:[4,n(321)("http")];case 1:return r=t.sent(),[4,n(321)("https")];case 2:o=t.sent(),t.label=3;case 3:return a=!0,[2]}}))}))}function s(n,r){return t(this,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(r),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:return[2,t.sent().json()]}}))}))}function c(n,a,i){return t(this,void 0,void 0,(function(){var s,c,u,l;return e(this,(function(f){return s=JSON.stringify(n),c=new URL(a),u={hostname:c.hostname,path:c.search?c.pathname+c.search:c.pathname,port:c.port,method:"POST",headers:{"Content-Type":"application/json","Content-Length":s.length},agent:i},l=a.includes("https")?o:r,[2,new Promise((function(n,r){var o=l.request(u,(function(r){var o="";r.on("data",(function(t){o+=t})),r.on("end",(function(){return t(this,void 0,void 0,(function(){var t;return e(this,(function(e){return t=JSON.parse(o),n(t),[2]}))}))}))}));o.on("error",(function(t){r(t)})),o.write(s),o.end()}))]}))}))}var u=function(){function n(t){if(this.url=void 0,this.agent=void 0,this.url=t,null!==r&&null!==o){var e=t.includes("https")?o:r;this.agent=new e.Agent({keepAlive:!0})}}return n.prototype.call=function(n){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];return t(this,void 0,void 0,(function(){var t,l;return e(this,(function(e){switch(e.label){case 0:return t={jsonrpc:"2.0",method:n,params:u,id:3},l=void 0,a?[3,2]:[4,i()];case 1:e.sent(),e.label=2;case 2:return null===r||null===o?[3,4]:[4,c(t,this.url,this.agent)];case 3:return l=e.sent(),[3,6];case 4:return[4,s(t,this.url)];case 5:l=e.sent(),e.label=6;case 6:return l.error?[2,l.error.message]:[2,l.result]}}))}))},n}(),l=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))},f=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},h=function(){function t(){}return t.getAllTasksByUser=function(e){return l(this,void 0,void 0,(function(){return f(this,(function(n){return[2,t.remote.call("TaskService.getAllTasksByUser",e)]}))}))},t.createTask=function(e,n){return l(this,void 0,void 0,(function(){return f(this,(function(r){return[2,t.remote.call("TaskService.createTask",e,n)]}))}))},t.updateTask=function(e,n,r,o){return l(this,void 0,void 0,(function(){return f(this,(function(a){return[2,t.remote.call("TaskService.updateTask",e,n,r,o)]}))}))},t.deleteTask=function(e,n){return l(this,void 0,void 0,(function(){return f(this,(function(r){return[2,t.remote.call("TaskService.deleteTask",e,n)]}))}))},t.remote=new u("https://dzq3euh33dpr5qltj27yz65vge0tcpqr.lambda-url.us-east-1.on.aws/TaskService"),t}();let d=localStorage.getItem("apiToken");d||(d=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),localStorage.setItem("apiToken",d)),document.getElementById("add-task-btn").addEventListener("click",(async t=>{t.preventDefault(),async function(){document.getElementById("modal-error-elem").innerHTML="";const t=document.getElementById("task-title-input").value;t?h.createTask(d,t).then((t=>{t.success&&location.reload()})):document.getElementById("modal-error-elem").innerHTML="Title is mandatory"}()})),h.getAllTasksByUser(d).then((t=>{if(t.success)for(const e of t.tasks){const t=document.getElementById("tasks"),n=`<span>${e.title}</span>`,r=e.url?`at <a href="${e.url}" target="_blank"> ${e.url}</a>`:"",o=e.solved?"checked":"";console.log("here");const a='<button class="btn" onclick=""><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#DC3545" class="bi bi-trash-fill" viewBox="0 0 16 16">\n<path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>\n</svg></button>';t.innerHTML+=`\n        <div class="mb-3">\n          <div class="d-flex align-items-center">\n            <input type="checkbox" ${o} class="task_checkbox" id=${e.id}>\n            <p class="mb-0" style="margin-right: auto; margin-left: 20px">\n              ${n}\n              ${r}\n            </p>\n            <span class="d-inline-block" tabindex="0" data-toggle="tooltip" title="Check out genezio challenge">\n              ${a}\n            </span>\n          </div>\n        </div>`}const e=document.getElementsByClassName("task_checkbox");for(const n of e)n.addEventListener("change",(async e=>{const n=e.target.id,r=t.tasks.find((t=>t.id===n));await h.updateTask(d,n,r.title,e.target.checked)}))}))})()})();